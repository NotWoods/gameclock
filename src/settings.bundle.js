!function(){"use strict";Promise.resolve().then((function(){return v}));const t=document.querySelector('input[name="start"]');t.addEventListener("change",()=>{localStorage.setItem("start",t.value)});const e=parseInt(localStorage.getItem("start"),10);function a(){return"undefined"!=typeof window}function r(){return location.protocol+"//"+location.host}function n(){if(!a())return!1;var t=document.referrer||"",e=r();return t.substr(0,e.length)===e}function i(){return a()?{type:"locale",value:function(){var t=void 0!==navigator.languages?navigator.languages[0]:navigator.language;return'"'===t[0]&&(t=t.substr(1)),t.length>0&&'"'===t[t.length-1]&&(t=t.substr(0,t.length-1)),t&&5===t.length&&"-"===t[2]?t.substr(0,3)+t.substr(3).toLocaleUpperCase():t}()||"<none>"}:{type:"locale",value:"<not-in-browser>"}}function o(){return a()?{type:"screen-type",value:(t=window.innerWidth,t<=414?"XS":t<=800?"S":t<=1200?"M":t<=1600?"L":"XL")}:{type:"screen-type",value:"<not-in-browser>"};var t}function s(){return a()?n()?{type:"referrer",value:"<none>"}:{type:"referrer",value:document.referrer||"<none>"}:{type:"referrer",value:"<not-in-browser>"}}function u(t,e){if(void 0===t&&(t=!1),void 0===e&&(e=!1),!a())return{type:"path",value:"<not-in-browser>"};var r=window.location.pathname,n=window.location.hash,i=window.location.search;return t&&e?r+=n:t?r+=n.substr(0,n.length-i.length):e&&(r+=i),{type:"path",value:r}}function c(t,e){return{type:"transition",value:t+"  ->  "+e}}function p(t,e){return void 0===e&&(e=""),t<5e3?{type:"duration-interval",value:e+"< 5s"}:t<15e3?{type:"duration-interval",value:e+"< 15s"}:t<3e4?{type:"duration-interval",value:e+"< 30s"}:t<6e4?{type:"duration-interval",value:e+"< 1m"}:t<3e5?{type:"duration-interval",value:e+"< 5m"}:{type:"duration-interval",value:e+"> 5m"}}Number.isNaN(e)||(t.value=e.toString());Object.freeze({locale:i,screenType:o,referrer:s,path:u,transition:c,durationInterval:p});var g={},h=function(){function t(t,e){void 0===e&&(e=g),this.projectId=t,this.options=e,this.uniques={},this.trackPageData=null,this.trackPageChange=this.trackPageChange.bind(this),this.trackLastPageTimeSpent=this.trackLastPageTimeSpent.bind(this)}return t.prototype.track=function(t){if(this.options.disabled||!a())return Promise.resolve();if(t.unique){var e=JSON.stringify(t);if(this.uniques[e])return Promise.resolve();this.uniques[e]=!0}var r={id:t.id,projectId:this.projectId,ignoreErrors:this.options.ignoreErrors||!1};t.remove&&(r.remove=!0),t.parameters&&(r.parameters=t.parameters),t.update&&(r.update=!0);var n=new XMLHttpRequest;n.open("post","https://getinsights.io/app/tics",!0),n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify(r))},t.prototype.trackPages=function(t){if(!a())return{stop:function(){}};if(this.trackPageData)return this.trackPageData.result;var e=setInterval(this.trackPageChange,2e3),r=t||{},n=r.hash,i=void 0!==n&&n,o=r.search,s=void 0!==o&&o;return this.trackPageData={hash:i,search:s,path:u(i,s).value,isOnFirstPage:!0,time:Date.now(),result:{stop:function(){clearInterval(e)}}},this.trackSinglePage(!0,this.trackPageData.path),window.addEventListener("unload",this.trackLastPageTimeSpent),this.trackPageData.result},t.prototype.getPreviousPage=function(t){var e=this.trackPageData&&this.trackPageData.path;return!t&&e?e:n()?document.referrer.replace(r(),""):document.referrer},t.prototype.trackPageChange=function(){if(this.trackPageData){var t=this.trackPageData,e=u(t.hash,t.search).value;e!==this.trackPageData.path&&this.trackSinglePage(!1,e)}},t.prototype.trackSinglePage=function(t,e){if(this.trackPageData){this.trackPageData.isOnFirstPage=t&&!n();var a=this.trackPageData,r=a.time,u=a.isOnFirstPage,g={path:e};u&&(g.uniqueViews=e,g.referrer=s(),g.locale=i(),g.screenType=o());var h=this.getPreviousPage(t);if(h&&h!==e&&(g.transitions=c(h,e),!u)){var l=Date.now();this.trackPageData.time=l,g.duration=p(l-r,h+" - ")}this.trackPageData.path=e,this.track({id:"page-views",parameters:g})}},t.prototype.trackLastPageTimeSpent=function(){var t=this.trackPageData&&this.trackPageData.time;if(t&&"function"==typeof navigator.sendBeacon&&!this.options.disabled&&this.trackPageData){var e=this.trackPageData,a=e.isOnFirstPage,n=e.path,i={};i.duration=p(Date.now()-t,n+" - ");var o=document.activeElement&&document.activeElement.href||"",s=r();o?"/"!==o[0]&&o.substr(0,s.length)!==r()&&(i.transitions=c(n,o)):i.bounces=a?"Yes":"No",navigator.sendBeacon=navigator.sendBeacon||function(t,e){var a=new XMLHttpRequest;a.open("post",t,!1),a.send(e)},navigator.sendBeacon("https://getinsights.io/app/tics",JSON.stringify({id:"page-views",projectId:this.projectId,parameters:i,ignoreErrors:this.options.ignoreErrors||!1,update:!0}))}},t}(),l=null;!function(t,e){if(!a()||l)throw new Error("Already initialized!");l=new h(t,e)}("fWF3tu0I8FSImuhJ"),function(t){l&&a()&&l.trackPages(t)}(),navigator.serviceWorker&&navigator.serviceWorker.register("sw.js");var v=Object.freeze({__proto__:null,track:function(t){l&&a()&&l.track(t)}})}();
