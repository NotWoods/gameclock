const e=import("../web_modules/insights-js.js").then(e=>(e.init("fWF3tu0I8FSImuhJ"),e.trackPages(),e));navigator.serviceWorker&&navigator.serviceWorker.register("sw.js");let t;const a=[n("clock--top"),n("clock--bottom")],o=document.querySelector(".button--pause"),s=document.querySelector(".button--reset");function n(e){const t=document.querySelector(`.${e}`),a=t.querySelector(".clock");return{button:t,display:a,active:!1,elapsedSoFar:0,lastPaused:-1,lastDisplayed:60}}function r(e,t){return e.active?-1!==e.lastPaused?t-e.lastPaused+e.elapsedSoFar:0:e.elapsedSoFar}function i(e,t){e.display.classList.remove("clock--active"),-1!==e.lastPaused&&(e.elapsedSoFar=r(e,t)),e.active=!1,e.lastPaused=t}function c(e=Date.now()){t=void 0,o.hidden=!0,a.forEach(t=>i(t,e))}a.forEach(s=>s.button.addEventListener("click",()=>function(s,n=Date.now()){let r;if(t){for(const e of a)if(t!==e){r=e;break}i(t,n)}else r=s,o.hidden=!1,-1===s.lastPaused&&e.then(({track:e})=>e({id:"start-timer"}));r.display.classList.add("clock--active"),t=r,r.active=!0,r.lastPaused=n}(s))),o.addEventListener("click",()=>c()),s.addEventListener("click",()=>{c(),window.confirm("Are you sure you want to reset the timers?")&&a.forEach(e=>{e.elapsedSoFar=0,e.lastPaused=-1})}),requestAnimationFrame((function e(){const t=Date.now();a.forEach(e=>function(e,t=Date.now()){const a=6e4-r(e,t),o=Math.max(0,Math.floor(a/1e3));if(o===e.lastDisplayed)return;const s=String(Math.floor(o/60)),n=String(o%60);e.display.textContent=`${s}:${n.padStart(2,"0")}`,e.display.dateTime=`PT${s}M${n}S`,e.lastDisplayed=o}(e,t)),requestAnimationFrame(e)}));
