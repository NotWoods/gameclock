!function(){"use strict";const t=Promise.resolve().then((function(){return D})),e=parseInt(localStorage.getItem("start"),10),a=1e3*(Number.isNaN(e)?60:e);let r=-1;const n=[s("clock--top"),s("clock--bottom")],i=document.querySelector(".button--pause"),o=document.querySelector(".button--reset");function s(t){const e=document.querySelector("."+t),a=e.querySelector(".clock");return{button:e,display:a,active:!1,elapsedSoFar:0,lastPaused:-1,lastDisplayed:-1}}function c(t,e){return t.active?-1!==t.lastPaused?e-t.lastPaused+t.elapsedSoFar:0:t.elapsedSoFar}function u(t,e){t.display.classList.remove("clock--active"),-1!==t.lastPaused&&(t.elapsedSoFar=c(t,e)),t.active=!1,t.lastPaused=e}function l(t=Date.now()){r=-1,i.hidden=!0,n.forEach(e=>u(e,t))}function p(){return"undefined"!=typeof window}function d(){return location.protocol+"//"+location.host}function h(){if(!p())return!1;var t=document.referrer||"",e=d();return t.substr(0,e.length)===e}function g(){return p()?{type:"locale",value:function(){var t=void 0!==navigator.languages?navigator.languages[0]:navigator.language;return'"'===t[0]&&(t=t.substr(1)),t.length>0&&'"'===t[t.length-1]&&(t=t.substr(0,t.length-1)),t&&5===t.length&&"-"===t[2]?t.substr(0,3)+t.substr(3).toLocaleUpperCase():t}()||"<none>"}:{type:"locale",value:"<not-in-browser>"}}function v(t,e){if(void 0===t&&(t=!1),void 0===e&&(e=!1),!p())return{type:"path",value:"<not-in-browser>"};var a=window.location.pathname,r=window.location.hash,n=window.location.search;return t&&e?a+=r:t?a+=r.substr(0,r.length-n.length):e&&(a+=n),{type:"path",value:a}}function f(t,e){return{type:"transition",value:t+"  ->  "+e}}function P(t,e){return void 0===e&&(e=""),t<5e3?{type:"duration-interval",value:e+"< 5s"}:t<15e3?{type:"duration-interval",value:e+"< 15s"}:t<3e4?{type:"duration-interval",value:e+"< 30s"}:t<6e4?{type:"duration-interval",value:e+"< 1m"}:t<3e5?{type:"duration-interval",value:e+"< 5m"}:{type:"duration-interval",value:e+"> 5m"}}n.forEach((e,a)=>{const o="onpointerdown"in e.button?"pointerdown":"click";e.button.addEventListener(o,()=>function(e,a=Date.now()){let o=e+1;if(o>=n.length&&(o=0),-1===r)i.hidden=!1,-1===n[o].lastPaused&&t.then(({track:t})=>t({id:"start-timer"}));else{if(r===o)return;u(n[r],a)}n[o].display.classList.add("clock--active"),r=o,n[o].active=!0,n[o].lastPaused=a}(a))}),i.addEventListener("click",()=>l()),o.addEventListener("click",()=>{l(),window.confirm("Are you sure you want to reset the timers?")&&n.forEach(t=>{t.elapsedSoFar=0,t.lastPaused=-1})}),requestAnimationFrame((function t(){const e=Date.now();n.forEach(t=>function(t,e=Date.now()){const r=a-c(t,e),n=Math.max(0,Math.floor(r/1e3));if(n===t.lastDisplayed)return;const i=String(Math.floor(n/60)),o=String(n%60);t.display.textContent=`${i}:${o.padStart(2,"0")}`,t.display.dateTime=`PT${i}M${o}S`,t.lastDisplayed=n,0===n&&navigator.vibrate(200)}(t,e)),requestAnimationFrame(t)}));var k,m={},y=function(){function t(t,e){void 0===e&&(e=m),this.projectId=t,this.options=e,this.uniques={},this.trackPageData=null,this.trackPageChange=this.trackPageChange.bind(this),this.trackLastPageTimeSpent=this.trackLastPageTimeSpent.bind(this)}return t.prototype.track=function(t){if(this.options.disabled||!p())return Promise.resolve();if(t.unique){var e=JSON.stringify(t);if(this.uniques[e])return Promise.resolve();this.uniques[e]=!0}var a={id:t.id,projectId:this.projectId,ignoreErrors:this.options.ignoreErrors||!1};t.remove&&(a.remove=!0),t.parameters&&(a.parameters=t.parameters),t.update&&(a.update=!0);var r=new XMLHttpRequest;r.open("post","https://getinsights.io/app/tics",!0),r.setRequestHeader("Content-Type","application/json"),r.send(JSON.stringify(a))},t.prototype.trackPages=function(t){if(!p())return{stop:function(){}};if(this.trackPageData)return this.trackPageData.result;var e=setInterval(this.trackPageChange,2e3),a=t||{},r=a.hash,n=void 0!==r&&r,i=a.search,o=void 0!==i&&i;return this.trackPageData={hash:n,search:o,path:v(n,o).value,isOnFirstPage:!0,time:Date.now(),result:{stop:function(){clearInterval(e)}}},this.trackSinglePage(!0,this.trackPageData.path),window.addEventListener("unload",this.trackLastPageTimeSpent),this.trackPageData.result},t.prototype.getPreviousPage=function(t){var e=this.trackPageData&&this.trackPageData.path;return!t&&e?e:h()?document.referrer.replace(d(),""):document.referrer},t.prototype.trackPageChange=function(){if(this.trackPageData){var t=this.trackPageData,e=v(t.hash,t.search).value;e!==this.trackPageData.path&&this.trackSinglePage(!1,e)}},t.prototype.trackSinglePage=function(t,e){if(this.trackPageData){this.trackPageData.isOnFirstPage=t&&!h();var a,r=this.trackPageData,n=r.time,i=r.isOnFirstPage,o={path:e};i&&(o.uniqueViews=e,o.referrer=p()?h()?{type:"referrer",value:"<none>"}:{type:"referrer",value:document.referrer||"<none>"}:{type:"referrer",value:"<not-in-browser>"},o.locale=g(),o.screenType=p()?{type:"screen-type",value:(a=window.innerWidth,a<=414?"XS":a<=800?"S":a<=1200?"M":a<=1600?"L":"XL")}:{type:"screen-type",value:"<not-in-browser>"});var s=this.getPreviousPage(t);if(s&&s!==e&&(o.transitions=f(s,e),!i)){var c=Date.now();this.trackPageData.time=c,o.duration=P(c-n,s+" - ")}this.trackPageData.path=e,this.track({id:"page-views",parameters:o})}},t.prototype.trackLastPageTimeSpent=function(){var t=this.trackPageData&&this.trackPageData.time;if(t&&"function"==typeof navigator.sendBeacon&&!this.options.disabled&&this.trackPageData){var e=this.trackPageData,a=e.isOnFirstPage,r=e.path,n={};n.duration=P(Date.now()-t,r+" - ");var i=document.activeElement&&document.activeElement.href||"",o=d();i?"/"!==i[0]&&i.substr(0,o.length)!==d()&&(n.transitions=f(r,i)):n.bounces=a?"Yes":"No",navigator.sendBeacon=navigator.sendBeacon||function(t,e){var a=new XMLHttpRequest;a.open("post",t,!1),a.send(e)},navigator.sendBeacon("https://getinsights.io/app/tics",JSON.stringify({id:"page-views",projectId:this.projectId,parameters:n,ignoreErrors:this.options.ignoreErrors||!1,update:!0}))}},t}(),w=null;!function(t,e){if(!p()||w)throw new Error("Already initialized!");w=new y(t,e)}("fWF3tu0I8FSImuhJ"),w&&p()&&w.trackPages(k),navigator.serviceWorker&&navigator.serviceWorker.register("sw.js");var D=Object.freeze({__proto__:null,track:function(t){w&&p()&&w.track(t)}})}();
