import{_}from"./preload-helper.e81eafb1.js";function P(){import("data:text/javascript,")}const v=_(()=>import("./libs.205b0b47.js"),[]),S=1e3,d=60,l=parseInt(localStorage.getItem("start"),10),E=Number.isNaN(l)?60:l,N=E*S;let o=-1;const n=[c("clock--top"),c("clock--bottom")],r=document.querySelector(".button--pause"),y=document.querySelector(".button--reset");function c(e){const t=document.querySelector(`.${e}`),a=t.querySelector(".clock");return{button:t,display:a,active:!1,elapsedSoFar:0,lastPaused:-1,lastDisplayed:-1}}function f(e,t){return e.active?e.lastPaused!==-1?t-e.lastPaused+e.elapsedSoFar:0:e.elapsedSoFar}function p(e,t){e.display.classList.remove("clock--active"),e.lastPaused!==-1&&(e.elapsedSoFar=f(e,t)),e.active=!1,e.lastPaused=t}function m(e=Date.now()){o=-1,r.hidden=!0,n.forEach(t=>p(t,e))}function D(e,t=Date.now()){let a=e+1;if(a>=n.length&&(a=0),o===-1)r.hidden=!1,n[a].lastPaused===-1&&v.then(({trackGoal:s})=>s("7GNS1PRY",0));else{if(o===a)return;p(n[o],t)}n[a].display.classList.add("clock--active"),o=a,n[a].active=!0,n[a].lastPaused=t}n.forEach((e,t)=>{const a="onpointerdown"in e.button?"pointerdown":"click";e.button.addEventListener(a,()=>D(t))});r.addEventListener("click",()=>m());y.addEventListener("click",()=>{m(),window.confirm("Are you sure you want to reset the timers?")&&n.forEach(e=>{e.elapsedSoFar=0,e.lastPaused=-1})});function I(e,t=Date.now()){const a=N-f(e,t),s=Math.max(0,Math.floor(a/S));if(s===e.lastDisplayed)return;const i=String(Math.floor(s/d)),u=String(s%d);e.display.textContent=`${i}:${u.padStart(2,"0")}`,e.display.dateTime=`PT${i}M${u}S`,e.lastDisplayed=s,s===0&&navigator.vibrate(200)}requestAnimationFrame(function e(){const t=Date.now();n.forEach(a=>I(a,t)),requestAnimationFrame(e)});export{P as __vite_legacy_guard};
